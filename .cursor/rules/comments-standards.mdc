---
title: Padr√µes de Coment√°rios
description: Diretrizes universais para escrever coment√°rios significativos e evitar ru√≠do no c√≥digo. Aplic√°vel a qualquer linguagem de programa√ß√£o.
tags: [comments, documentation, code-quality, inline-docs, code-review, language-agnostic]
---

# Padr√µes de Coment√°rios

> **‚ö†Ô∏è OBRIGAT√ìRIO**: Esta regra define quando ADICIONAR e quando REMOVER coment√°rios. Coment√°rios devem agregar valor, n√£o repetir o que o c√≥digo j√° diz.

> **üìù Nota**: Esta √© uma regra gen√©rica aplic√°vel a qualquer linguagem. Para exemplos espec√≠ficos, consulte as regras de coment√°rios por linguagem (ex: `comments-standards-golang.mdc`).

---

## Objetivo Duplo

Esta regra tem dois prop√≥sitos igualmente importantes:

1. **‚úÖ ADICIONAR coment√°rios** quando explicam o "POR QU√ä" e agregam valor
2. **‚ùå REMOVER coment√°rios** quando apenas repetem o √≥bvio e geram ru√≠do

---

## Quando Aplicar Esta Regra

### Durante Escrita de C√≥digo Novo:
- **Sempre perguntar**: "Algu√©m entender√° o POR QU√ä desta decis√£o daqui a 6 meses?"
- **Se N√ÉO**: Adicionar coment√°rio explicando o contexto/motivo
- **Se SIM**: Deixar o c√≥digo falar por si mesmo

### Durante Code Review:
- Identificar c√≥digo sem coment√°rios que deveria t√™-los (l√≥gica complexa, decis√µes n√£o-√≥bvias)
- Identificar coment√°rios desnecess√°rios que poluem o c√≥digo
- Sugerir adi√ß√£o ou remo√ß√£o conforme os crit√©rios desta regra

### Durante Refatora√ß√£o:
- Atualizar coment√°rios que ficaram desatualizados
- Remover coment√°rios que o c√≥digo refatorado tornou √≥bvios
- Adicionar coment√°rios se a refatora√ß√£o introduziu l√≥gica complexa

---

## Regra de Ouro

**"C√≥digo diz COMO, coment√°rios dizem POR QU√ä"**

### Coment√°rios devem explicar:
- **POR QU√ä** uma decis√£o foi tomada (l√≥gica de neg√≥cio, restri√ß√µes t√©cnicas)
- **O QUE** n√£o √© √≥bvio pelo c√≥digo
- **AVISOS** sobre casos extremos ou armadilhas
- **CONTEXTO** que n√£o pode ser expresso no c√≥digo

### Coment√°rios **N√ÉO** devem explicar:
- O que o c√≥digo obviamente faz
- Atribui√ß√µes de vari√°veis simples
- Chamadas de fun√ß√£o que s√£o auto-explicativas
- Sintaxe b√°sica da linguagem

---

## ‚ùå Tipos de Coment√°rios Ruins (Ru√≠do)

### 1. A√ß√µes √ìbvias
Coment√°rios que apenas narram o que est√° acontecendo no c√≥digo sem adicionar contexto.

**Exemplos comuns:**
- "Define a vari√°vel X"
- "Chama a fun√ß√£o Y"
- "Retorna o resultado"
- "Loop pelos itens"

### 2. Descri√ß√µes Redundantes
Coment√°rios que repetem exatamente o nome da fun√ß√£o/m√©todo/classe.

**Exemplos comuns:**
- "Create cria um novo usu√°rio" (quando a fun√ß√£o j√° se chama `create`)
- "Valida os dados de entrada" (quando a fun√ß√£o j√° se chama `validate`)

### 3. Coment√°rios de Debug Esquecidos
Coment√°rios tempor√°rios que deveriam ter sido removidos.

**Exemplos comuns:**
- "// console.log()"
- "// TODO: testar isso"
- "// comentei isso porque estava quebrando"
- "// FIXME"

### 4. Coment√°rios Desatualizados
Coment√°rios que n√£o refletem mais o c√≥digo atual.

**Exemplo:**
```
// Coment√°rio: "Retorna 3 itens"
// C√≥digo: retorna todos os itens sem limite
```

---

## ‚úÖ Tipos de Coment√°rios Bons (Agregam Valor)

### 1. Explica√ß√£o de L√≥gica de Neg√≥cio
Coment√°rios que explicam **por que** uma regra de neg√≥cio existe.

**Quando usar:**
- Pol√≠ticas comerciais n√£o-√≥bvias
- Regras de c√°lculo complexas
- Restri√ß√µes de dom√≠nio espec√≠ficas
- Decis√µes baseadas em requisitos do produto

### 2. Restri√ß√µes T√©cnicas
Coment√°rios que explicam limita√ß√µes t√©cnicas ou decis√µes arquiteturais.

**Quando usar:**
- Limita√ß√µes de APIs externas
- Workarounds para bugs de terceiros
- Restri√ß√µes de performance
- Compatibilidade com sistemas legados
- Padr√µes t√©cnicos obrigat√≥rios (RFC, ISO, etc)

### 3. TODOs com Contexto
Tarefas futuras sempre acompanhadas de contexto rico.

**Formato recomendado:**
```
TODO: [O QUE fazer] ([QUANDO/POR QU√ä] + [TICKET/REFER√äNCIA])
```

**Exemplos:**
- "TODO: Implementar cache (Fase 2 ap√≥s migra√ß√£o do banco - TICKET-123)"
- "TODO: Refatorar para usar padr√£o X (aguardando decis√£o arquitetural - RFC-456)"

### 4. Algoritmos N√£o-√ìbvios
Coment√°rios que explicam l√≥gica matem√°tica ou algor√≠tmica complexa.

**Quando usar:**
- F√≥rmulas matem√°ticas
- Algoritmos de otimiza√ß√£o
- L√≥gica de retry/backoff
- Manipula√ß√£o de bits
- C√°lculos financeiros

### 5. Casos Extremos e Armadilhas
Avisos sobre comportamentos n√£o-√≥bvios ou perigosos.

**Quando usar:**
- Valores especiais v√°lidos (null, empty, zero)
- Ordem de execu√ß√£o cr√≠tica
- Side effects n√£o-√≥bvios
- Vazamentos de recursos
- Race conditions

### 6. Documenta√ß√£o de API P√∫blica
Documenta√ß√£o formal para interfaces p√∫blicas/exportadas.

**Quando usar:**
- Fun√ß√µes/m√©todos exportados
- Classes/interfaces p√∫blicas
- Par√¢metros e retornos
- Exce√ß√µes/erros poss√≠veis
- Exemplos de uso

### 7. N√∫meros M√°gicos
Sempre explicar constantes num√©ricas n√£o-√≥bvias.

**Quando usar:**
- Timeouts e limites
- Tamanhos de buffer
- Taxas e percentuais
- C√≥digos de status
- Vers√µes de protocolo

---

## √Årvore de Decis√£o

```
Devo adicionar um coment√°rio?
‚îÇ
‚îú‚îÄ √â √≥bvio pelo c√≥digo?
‚îÇ  ‚îî‚îÄ SIM ‚Üí N√£o comente
‚îÇ
‚îú‚îÄ Explica POR QU√ä (n√£o O QUE)?
‚îÇ  ‚îî‚îÄ SIM ‚Üí Bom coment√°rio
‚îÇ
‚îú‚îÄ √â um TODO com contexto completo?
‚îÇ  ‚îî‚îÄ SIM ‚Üí Bom coment√°rio
‚îÇ
‚îú‚îÄ √â um aviso sobre caso extremo/armadilha?
‚îÇ  ‚îî‚îÄ SIM ‚Üí Bom coment√°rio
‚îÇ
‚îú‚îÄ √â uma explica√ß√£o de n√∫mero m√°gico?
‚îÇ  ‚îî‚îÄ SIM ‚Üí Bom coment√°rio
‚îÇ
‚îú‚îÄ Explica restri√ß√£o t√©cnica ou decis√£o arquitetural?
‚îÇ  ‚îî‚îÄ SIM ‚Üí Bom coment√°rio
‚îÇ
‚îî‚îÄ √â documenta√ß√£o de API p√∫blica?
   ‚îî‚îÄ SIM ‚Üí Bom coment√°rio
```

---

## ‚úÖ Checklist

Antes de fazer commit, revisar TODO o c√≥digo (novo e existente):

### Adicionar Coment√°rios Quando:
- [ ] Houver l√≥gica de neg√≥cio n√£o-√≥bvia (explicar POR QU√ä)
- [ ] Houver restri√ß√µes t√©cnicas ou decis√µes arquiteturais
- [ ] Houver n√∫meros m√°gicos sem explica√ß√£o
- [ ] Houver TODOs (sempre com contexto: ticket, fase, motivo)
- [ ] Houver casos extremos ou armadilhas (IMPORTANTE, CUIDADO, etc)
- [ ] Houver APIs p√∫blicas/exportadas sem documenta√ß√£o
- [ ] Houver algoritmos complexos ou n√£o-√≥bvios
- [ ] Houver workarounds tempor√°rios (explicar motivo e pr√≥ximos passos)
- [ ] Houver decis√µes contra-intuitivas ou surpreendentes
- [ ] Houver depend√™ncias com comportamento n√£o-documentado

### Remover Coment√°rios Quando:
- [ ] Apenas repetem o que o c√≥digo j√° diz
- [ ] Descrevem a√ß√µes √≥bvias (atribui√ß√µes, chamadas de fun√ß√£o simples)
- [ ] Est√£o desatualizados ou n√£o refletem o c√≥digo atual
- [ ] S√£o TODOs j√° implementados
- [ ] S√£o coment√°rios de debug/desenvolvimento esquecidos
- [ ] S√£o coment√°rios que foram resolvidos por refatora√ß√£o (c√≥digo ficou mais claro)

---

## Manuten√ß√£o de Coment√°rios

### Princ√≠pios:
1. **Coment√°rios s√£o parte do c√≥digo**: devem evoluir junto com ele
2. **Coment√°rios desatualizados s√£o piores que aus√™ncia de coment√°rios**: geram confus√£o
3. **Refatora√ß√£o pode eliminar necessidade de coment√°rios**: c√≥digo claro > coment√°rios

### Ao Refatorar:
- ‚úÖ Atualizar coment√°rios afetados
- ‚úÖ Remover coment√°rios que se tornaram √≥bvios
- ‚úÖ Adicionar coment√°rios se nova l√≥gica for complexa
- ‚ùå Nunca deixar coment√°rios desatualizados

---

## Boas Pr√°ticas Universais

### 1. Seja Conciso mas Completo
- Use frases curtas e diretas
- Inclua todas as informa√ß√µes necess√°rias
- Evite prolixidade desnecess√°ria

### 2. Mantenha Consist√™ncia
- Use o mesmo estilo em todo o projeto
- Siga conven√ß√µes da linguagem (se houver)
- Mantenha formata√ß√£o uniforme

### 3. Use Linguagem Clara
- Escreva em portugu√™s correto (ou idioma do time)
- Evite jarg√µes desnecess√°rios
- Prefira termos precisos

### 4. Adicione Refer√™ncias
- Links para documenta√ß√£o externa
- N√∫meros de tickets/issues
- RFCs e especifica√ß√µes t√©cnicas
- Commit hashes relevantes

### 5. Destaque Informa√ß√µes Cr√≠ticas
- Use marcadores: IMPORTANTE, CUIDADO, NOTA
- Destaque side effects
- Avise sobre performance
- Sinalize deprecated code

---

## Aplica√ß√£o por Linguagem

Esta regra gen√©rica se aplica a todas as linguagens. Para conven√ß√µes espec√≠ficas e exemplos concretos, consulte:

- `comments-standards-golang.mdc` - Padr√µes para Go (godoc, exported functions, etc)
- `comments-standards-python.mdc` - Padr√µes para Python (docstrings, PEP 257, etc)
- `comments-standards-javascript.mdc` - Padr√µes para JavaScript/TypeScript (JSDoc, etc)
- *(adicione outras conforme necess√°rio)*

---

**√öltima Atualiza√ß√£o**: 15 de Novembro de 2025  
**Vers√£o**: 2.0 (Gen√©rica - Language Agnostic)
